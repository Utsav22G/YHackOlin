{% extends 'core/base_generic.html' %}

{% block content %}

    <h3>Post edit page</h3>

    <form method="post" action="{% url 'social_app:post_editing' post.id %}">
        {% csrf_token %}

        <div class="form-group">
            <label for="title">Title:</label>
            <input class="form-control" type="text" name="title" autofocus id="title" maxlength="254"
                   value="{{ post.title }}" required>
        </div>

        {% if post.categories.all %}
            <div class="form-group">
                <label for="categories">Category select</label>

                {% for category in post.categories.all %}
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" name="category_check_box"
                                   id="category_check_box"
                                   value="option1" checked>
                            {{ category.name }}
                        </label>
                    </div>
                {% endfor %}

            </div>
        {% endif %}

        <div class="form-group">
            <label for="short_description">Short Description:</label>
            <textarea class="form-control" name="short_description" autofocus
                      id="short_description"
                      maxlength="254">{{ post.short_description }}</textarea>
        </div>

        <div class="form-group">
            <label for="story">Story:</label>
            <textarea class="form-control" name="story" autofocus
                      id="story" maxlength="254">{{ post.story }}</textarea>
        </div>

        <div class="form-group">
            <input type="submit" value="Submit" class="btn btn-primary"/>
            <input type="hidden" name="next" value="{% url 'social_app:post_editing' post.id %}"/>
        </div>
    </form>
{% endblock %}